<div align="center">

<!-- Header -->
<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=6,11,20&height=180&section=header&text=SoulMap&fontSize=42&fontColor=fff&animation=twinkling&fontAlignY=32&desc=AI-Powered%20Journal%20Analysis&descSize=18&descAlignY=52"/>

<!-- Badges -->
[![Next.js](https://img.shields.io/badge/Next.js-14-black?style=for-the-badge&logo=next.js&logoColor=white)](https://nextjs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109-009688?style=for-the-badge&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4-412991?style=for-the-badge&logo=openai&logoColor=white)](https://openai.com/)

<p align="center">
  <b>æ—¥è¨˜ã‚’åˆ†æã—ã¦ã‚ãªãŸã®æ„Ÿæƒ…ãƒ»æ€§æ ¼å‚¾å‘ã‚’å¯è¦–åŒ–ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</b>
</p>

[Features](#-features) â€¢ [Tech Stack](#-tech-stack) â€¢ [Getting Started](#-getting-started) â€¢ [API](#-api-endpoints) â€¢ [Structure](#-project-structure)

</div>

---

## âœ¨ Features

<table>
  <tr>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/fluency/96/000000/edit.png" width="60"/>
      <br><b>Journal Posts</b>
      <br><sub>ãƒ†ã‚­ã‚¹ãƒˆï¼‹ç”»åƒä»˜ãæ—¥è¨˜</sub>
    </td>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/fluency/96/000000/happy.png" width="60"/>
      <br><b>Mood Tracking</b>
      <br><sub>æ°—åˆ†ã‚¿ã‚°ã§æ„Ÿæƒ…è¨˜éŒ²</sub>
    </td>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/fluency/96/000000/brain.png" width="60"/>
      <br><b>AI Analysis</b>
      <br><sub>GPT-4ã«ã‚ˆã‚‹æ·±å±¤åˆ†æ</sub>
    </td>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/fluency/96/000000/combo-chart.png" width="60"/>
      <br><b>Visualization</b>
      <br><sub>æ„Ÿæƒ…ãƒ»æ€§æ ¼ã®å¯è¦–åŒ–</sub>
    </td>
  </tr>
</table>

### AIåˆ†æã®å†…å®¹

| åˆ†æé …ç›® | èª¬æ˜ |
|:---:|:---|
| ğŸ­ **æ„Ÿæƒ…ã‚¹ã‚³ã‚¢** | Joy, Sadness, Anger, Fear, Surprise ã®5æ„Ÿæƒ…ã‚’æ•°å€¤åŒ– |
| ğŸ§  **æ€§æ ¼ç‰¹æ€§** | Big Five ãƒ¢ãƒ‡ãƒ«ï¼ˆé–‹æ”¾æ€§ãƒ»èª å®Ÿæ€§ãƒ»å¤–å‘æ€§ãƒ»å”èª¿æ€§ãƒ»ç¥çµŒç—‡å‚¾å‘ï¼‰ |
| ğŸ·ï¸ **ãƒˆãƒ”ãƒƒã‚¯æŠ½å‡º** | æ—¥è¨˜ã‹ã‚‰ä¸»è¦ãƒˆãƒ”ãƒƒã‚¯ã‚’è‡ªå‹•æŠ½å‡º |
| ğŸ’¡ **èˆˆå‘³é–¢å¿ƒ** | ç¶™ç¶šçš„ãªèˆˆå‘³ãƒ»é–¢å¿ƒé ˜åŸŸã‚’ç‰¹å®š |
| ğŸ“Š **ç·åˆã‚µãƒãƒªãƒ¼** | è¤‡æ•°æŠ•ç¨¿ã‚’æ¨ªæ–­ã—ãŸå‚¾å‘åˆ†æ |

---

## ğŸ›  Tech Stack

<table>
  <tr>
    <th align="center">Frontend</th>
    <th align="center">Backend</th>
    <th align="center">Database</th>
    <th align="center">AI</th>
  </tr>
  <tr>
    <td align="center">
      <img src="https://skillicons.dev/icons?i=nextjs,ts,tailwind" /><br>
      <sub>Next.js 14 â€¢ TypeScript<br>Tailwind CSS â€¢ shadcn/ui<br>TanStack Query â€¢ Recharts</sub>
    </td>
    <td align="center">
      <img src="https://skillicons.dev/icons?i=python,fastapi" /><br>
      <sub>Python 3.11+<br>FastAPI â€¢ SQLAlchemy 2.0<br>Pydantic â€¢ JWT Auth</sub>
    </td>
    <td align="center">
      <img src="https://skillicons.dev/icons?i=postgres,docker" /><br>
      <sub>PostgreSQL 15<br>Docker Compose<br>Alembic Migrations</sub>
    </td>
    <td align="center">
      <img src="https://img.icons8.com/fluency/96/000000/chatgpt.png" width="48"/><br>
      <sub>OpenAI API<br>GPT-4</sub>
    </td>
  </tr>
</table>

---

## ğŸš€ Getting Started

### Prerequisites

```
Docker & Docker Compose  â€¢  Node.js 18+  â€¢  Python 3.11+
```

### Installation

<details>
<summary><b>1ï¸âƒ£ Clone & Setup Database</b></summary>

```bash
# Clone the repository
git clone https://github.com/mituoka/soulmap.git
cd soulmap

# Start PostgreSQL
docker-compose up -d
```

</details>

<details>
<summary><b>2ï¸âƒ£ Backend Setup</b></summary>

```bash
cd backend

# Create virtual environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Create .env file
cp .env.example .env
# Edit .env and set your OPENAI_API_KEY

# Run migrations
alembic upgrade head

# Start server
uvicorn app.main:app --reload --port 8000
```

</details>

<details>
<summary><b>3ï¸âƒ£ Frontend Setup</b></summary>

```bash
cd frontend

# Install dependencies
npm install

# Create .env.local
echo "NEXT_PUBLIC_API_URL=http://localhost:8000" > .env.local

# Start dev server
npm run dev
```

</details>

### ğŸ”— Access Points

| Service | URL |
|:---:|:---|
| ğŸŒ Frontend | http://localhost:3000 |
| âš¡ Backend API | http://localhost:8000 |
| ğŸ“š API Docs | http://localhost:8000/docs |

---

## ğŸ” Environment Variables

<details>
<summary><b>Backend (.env)</b></summary>

```env
DATABASE_URL=postgresql://soulmap:soulmap123@localhost:5432/soulmap_db
JWT_SECRET_KEY=your-secret-key-change-in-production
OPENAI_API_KEY=sk-your-openai-api-key
```

</details>

<details>
<summary><b>Frontend (.env.local)</b></summary>

```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

</details>

---

## ğŸ“¡ API Endpoints

<details>
<summary><b>ğŸ”‘ Authentication</b></summary>

| Method | Endpoint | Description |
|:---:|:---|:---|
| `POST` | `/api/v1/auth/register` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² |
| `POST` | `/api/v1/auth/login` | ãƒ­ã‚°ã‚¤ãƒ³ |
| `GET` | `/api/v1/auth/me` | ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |

</details>

<details>
<summary><b>ğŸ“ Posts</b></summary>

| Method | Endpoint | Description |
|:---:|:---|:---|
| `GET` | `/api/v1/posts` | æŠ•ç¨¿ä¸€è¦§ |
| `GET` | `/api/v1/posts/{id}` | æŠ•ç¨¿è©³ç´° |
| `POST` | `/api/v1/posts` | æŠ•ç¨¿ä½œæˆ |
| `PUT` | `/api/v1/posts/{id}` | æŠ•ç¨¿æ›´æ–° |
| `DELETE` | `/api/v1/posts/{id}` | æŠ•ç¨¿å‰Šé™¤ |

</details>

<details>
<summary><b>ğŸ§  Analyses</b></summary>

| Method | Endpoint | Description |
|:---:|:---|:---|
| `POST` | `/api/v1/analyses/create` | AIåˆ†æå®Ÿè¡Œ |
| `GET` | `/api/v1/analyses/post/{post_id}` | æŠ•ç¨¿ã®åˆ†æçµæœ |
| `GET` | `/api/v1/analyses/user/summary` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒãƒªãƒ¼ |

</details>

<details>
<summary><b>ğŸ“¤ Uploads</b></summary>

| Method | Endpoint | Description |
|:---:|:---|:---|
| `POST` | `/api/v1/uploads/image` | ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |

</details>

---

## ğŸ“ Project Structure

```
soulmap/
â”œâ”€â”€ ğŸ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/v1/          # API endpoints
â”‚   â”‚   â”œâ”€â”€ core/            # Security & AI service
â”‚   â”‚   â”œâ”€â”€ models/          # SQLAlchemy models
â”‚   â”‚   â”œâ”€â”€ schemas/         # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ config.py        # Configuration
â”‚   â”‚   â”œâ”€â”€ database.py      # DB connection
â”‚   â”‚   â””â”€â”€ main.py          # FastAPI app
â”‚   â”œâ”€â”€ alembic/             # Migrations
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ âš›ï¸ frontend/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ hooks/               # Custom hooks
â”‚   â”œâ”€â”€ lib/                 # Utilities
â”‚   â””â”€â”€ types/               # TypeScript definitions
â”‚
â””â”€â”€ ğŸ³ docker-compose.yml
```

---

## ğŸ“„ License

<div align="center">

MIT License Â© 2025

<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=6,11,20&height=100&section=footer"/>

</div>
